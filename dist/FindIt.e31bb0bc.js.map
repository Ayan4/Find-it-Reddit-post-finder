{"version":3,"sources":["redditAPI.js","index.js"],"names":["search","searchTerm","searchLimit","sortBy","fetch","then","response","json","data","children","map","i","catch","err","console","log","searchForm","document","getElementById","searchInput","addEventListener","event","preventDefault","value","querySelector","showMessage","reddit","results","output","forEach","image","preview","images","source","url","title","shortenText","selftext","subreddit","score","innerHTML","message","className","div","createElement","appendChild","createTextNode","searchContainer","insertBefore","setTimeout","remove","text","limit","shortened","indexOf","substring"],"mappings":"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","file":"FindIt.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export default{\r\n    search: function(searchTerm, searchLimit, sortBy){\r\n        return fetch(`http://www.reddit.com/search.json?q=${searchTerm}&sort=${sortBy}&limit=${searchLimit}`)\r\n        .then(response => response.json())\r\n        .then(data => data.data.children.map(i => i.data))\r\n        .catch(err => console.log(err));\r\n    }\r\n};","import reddit from './redditAPI';\r\n\r\nconst searchForm = document.getElementById('search-form');\r\nconst searchInput = document.getElementById('search-input');\r\n\r\nsearchForm.addEventListener('submit', (event) =>{\r\n    event.preventDefault();\r\n    \r\n    const searchTerm = searchInput.value;\r\n    const sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\r\n    const searchLimit = document.getElementById('limit').value;\r\n    \r\n    if(searchTerm === ''){\r\n        showMessage('Please add a search term', 'alert-danger');\r\n    }\r\n\r\n    // clear input\r\n    searchInput.value = '';\r\n\r\n    // search reddit\r\n    reddit.search(searchTerm, searchLimit, sortBy)\r\n    .then(results => {\r\n        let output = '<div class=\"card-columns\">';\r\n\r\n        results.forEach(i => {\r\n            // check for images\r\n            const image = i.preview ? i.preview.images[0].source.url : 'https://cdn.vox-cdn.com/thumbor/SfU1irp-V79tbpVNmeW1N6PwWpI=/0x0:640x427/1200x800/filters:focal(0x0:640x427)/cdn.vox-cdn.com/uploads/chorus_image/image/45970810/reddit_logo_640.0.jpg'\r\n\r\n            output += `\r\n            <div class=\"card\" style=\"width: 18rem;\">\r\n            <img class=\"card-img-top\" src=\"${image}\" alt=\"Card image cap\">\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title\">${i.title}</h5>\r\n              <p class=\"card-text\">${shortenText(i.selftext, 100)}</p>\r\n              <a href=\"${i.url}\" target='_blank' class=\"btn btn-primary\">Read More</a>\r\n              <hr>\r\n              <span class='badge badge-secondary'>Subreddit: ${i.subreddit}</span>\r\n              <span class='badge badge-dark'>Score: ${i.score}</span>\r\n            </div>\r\n          </div>`\r\n        });\r\n        output += '</div>';\r\n\r\n        document.getElementById('results').innerHTML = output;\r\n    });\r\n});\r\n\r\nfunction showMessage(message, className){\r\n    const div = document.createElement('div');\r\n    div.className = `alert ${className}`;\r\n    div.appendChild(document.createTextNode(message));\r\n\r\n    const searchContainer = document.getElementById('search-container');\r\n    const search = document.getElementById('search');\r\n\r\n    searchContainer.insertBefore(div, search);\r\n\r\n    setTimeout(() =>{\r\n        document.querySelector('.alert').remove()\r\n    }, 2000);\r\n}\r\n\r\n// Shorten Self text\r\n\r\nfunction shortenText(text, limit){\r\n    const shortened = text.indexOf(' ', limit);\r\n    if(shortened === -1){\r\n        return text;\r\n    };\r\n    return text.substring(0, shortened);\r\n}"]}